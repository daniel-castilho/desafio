# ================================================
# TEST-SPECIFIC CONFIGURATIONS
# ================================================

# 1. Disable Flyway for tests.
# We let Hibernate generate the schema from JPA entities instead.
spring.flyway.enabled=false

# 2. Let Hibernate create and drop the schema for each test run.
spring.jpa.hibernate.ddl-auto=create-drop

# 3. Point to the H2 init script to create custom domain types before Hibernate runs.
# This makes H2 compatible with PostgreSQL-specific column types.
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:h2-init.sql

# 4. Ensure Spring Boot uses H2 for tests.
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
